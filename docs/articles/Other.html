<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Other Features / Common Questions • RFishBC</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Other Features / Common Questions">
<meta property="og:description" content="">
<meta property="og:image" content="http://derekogle.com/RFishBC/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RFishBC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/BCIntro.html">Short Introduction</a>
    </li>
    <li>
      <a href="../articles/collectRadiiData.html">Collect Radii Data</a>
    </li>
    <li>
      <a href="../articles/seeRadiiData.html">Visualize Radii Data</a>
    </li>
    <li>
      <a href="../articles/BCCalc.html">Back-Calculating Lengths</a>
    </li>
    <li>
      <a href="../articles/BCWorkflow.html">Suggested Workflow</a>
    </li>
    <li>
      <a href="../articles/Other.html">Other Features</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/droglenc/RFishBC">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Other Features / Common Questions</h1>
                        <h4 class="author">Derek H. Ogle</h4>
            
            <h4 class="date">2018-12-11</h4>
      
      
      <div class="hidden name"><code>Other.Rmd</code></div>

    </div>

    
    
<div id="collect-just-age-data" class="section level1">
<h1 class="hasAnchor">
<a href="#collect-just-age-data" class="anchor"></a>Collect Just Age Data</h1>
<p>Some researchers would like to use RFishBC to collect age data only without any concern for measurements on the image for the purposes of back-calculation. RFishBC will record measurements on the structure but these measurements can ultimately be ignored if you simply want to have a data.frame of estimated ages. This is demonstrated below using a few functions from the <code>dplyr</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(RFishBC)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</code></pre></div>
<p>This example also uses the “DHO” readings of “Scale_1.jpg”, “Scale_2.jpg”, and “Scale_3.jpg” demonstrated in the <a href="collectRadiiData.html#multiplestructures">Combine Data from Multiple Structures section of the Collecting Radial Measurements</a> vignette. These readings are put into a list using <code><a href="../reference/listFiles.html">listFiles()</a></code> and their data are combined into a <strong>WIDE</strong> format data.frame below (as described in <a href="collectRadiiData.html#multiplestructures">the Collecting Radial Measurements</a> vignette).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">( fns &lt;-<span class="st"> </span><span class="kw"><a href="../reference/listFiles.html">listFiles</a></span>(<span class="st">"rds"</span>,<span class="dt">other=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Scale"</span>,<span class="st">"DHO"</span>)) )
<span class="co">#&gt; [1] "Scale_1_DHO.rds" "Scale_2_DHO.rds" "Scale_3_DHO.rds"</span>
( dfrad2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/combineData.html">combineData</a></span>(fns,<span class="dt">formatOut=</span><span class="st">"wide"</span>) )
<span class="co">#&gt;   id reading agecap    radcap      rad1      rad2      rad3      rad4</span>
<span class="co">#&gt; 1  1     DHO      5 0.5146011 0.2127403 0.2791615 0.3418421 0.4622381</span>
<span class="co">#&gt; 2  2     DHO      4 0.3979388 0.1414644 0.2277237 0.2990282 0.3519334</span>
<span class="co">#&gt; 3  3     DHO      1 0.5174685 0.5174685        NA        NA        NA</span>
<span class="co">#&gt;        rad5</span>
<span class="co">#&gt; 1 0.4988664</span>
<span class="co">#&gt; 2        NA</span>
<span class="co">#&gt; 3        NA</span></code></pre></div>
<p>A data.frame of just ages is created from this data.frame by removing all variables that contain the word “rad” using <code>select()</code> from <code>dplyr</code>. The <code>select()</code> function requires the original data.frame as its first argument and then directions on variables to select as the ensuing arguments. There are several ways to get the required data.frame with these simple data as shown below – one can select variables individually, select contiguous variables, or deselect (negative sign) variables that contain the word “rad”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">( dfrad2ages &lt;-<span class="st"> </span><span class="kw">select</span>(dfrad2,id,reading,agecap) )
<span class="co">#&gt;   id reading agecap</span>
<span class="co">#&gt; 1  1     DHO      5</span>
<span class="co">#&gt; 2  2     DHO      4</span>
<span class="co">#&gt; 3  3     DHO      1</span>
( dfrad2ages &lt;-<span class="st"> </span><span class="kw">select</span>(dfrad2,id<span class="op">:</span>agecap) )
<span class="co">#&gt;   id reading agecap</span>
<span class="co">#&gt; 1  1     DHO      5</span>
<span class="co">#&gt; 2  2     DHO      4</span>
<span class="co">#&gt; 3  3     DHO      1</span>
( dfrad2ages &lt;-<span class="st"> </span><span class="kw">select</span>(dfrad2,<span class="op">-</span><span class="kw">contains</span>(<span class="st">"rad"</span>)) )
<span class="co">#&gt;   id reading agecap</span>
<span class="co">#&gt; 1  1     DHO      5</span>
<span class="co">#&gt; 2  2     DHO      4</span>
<span class="co">#&gt; 3  3     DHO      1</span></code></pre></div>
<p>The <code>agecap</code> variable can be renamed with <code>rename()</code> from <code>dplyr</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">( dfrad2ages &lt;-<span class="st"> </span><span class="kw">rename</span>(dfrad2ages,<span class="dt">age=</span>agecap) )
<span class="co">#&gt;   id reading age</span>
<span class="co">#&gt; 1  1     DHO   5</span>
<span class="co">#&gt; 2  2     DHO   4</span>
<span class="co">#&gt; 3  3     DHO   1</span></code></pre></div>
<p> </p>
<p> </p>
</div>
<div id="curved-growth-trajectories" class="section level1">
<h1 class="hasAnchor">
<a href="#curved-growth-trajectories" class="anchor"></a>Curved Growth Trajectories</h1>
<p>Some structures, especially otoliths, often have “growth trajectories” on which the user wants to mark annuli that are nonlinear. In these instances, the use of a linear transect is inappropriate. RFishBC can handle such circumstances by using <code>makeTransect=FALSE</code> in <code><a href="../reference/digitizeRadii.html">digitizeRadii()</a></code>. When using <code>makeTransect=FALSE</code> the user will not select a transect as shown in the <a href="collectRadiiData.html">Collecting Radial Measurements</a> vignette. The user will instead be prompted to successively mark the structure center, annuli, and structure margin.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/digitizeRadii.html">digitizeRadii</a></span>(<span class="st">"DWS_Oto_89765.jpg"</span>,<span class="dt">id=</span><span class="dv">89765</span>,<span class="dt">reading=</span><span class="st">"DHO"</span>,<span class="dt">edgeIsAnnulus=</span><span class="ot">TRUE</span>,
              <span class="dt">makeTransect=</span><span class="ot">FALSE</span>,<span class="dt">windowSize=</span><span class="dv">10</span>)</code></pre></div>
<p>The results can be seen with <code><a href="../reference/showDigitizedImage.html">showDigitizedImage()</a></code> as described in the <a href="seeRadiiData.html">Visualize Radial Data</a> vignette.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/showDigitizedImage.html">showDigitizedImage</a></span>(<span class="st">"DWS_Oto_89765_DHO.rds"</span>,
                   <span class="dt">annuliLabels=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">12</span>,<span class="dv">14</span>,<span class="dv">17</span>),<span class="dt">cex.ann=</span><span class="fl">0.8</span>)</code></pre></div>
<div class="figure">
<img src="figures/DWS_Oto_89765_A.jpg">
</div>
<p> </p>
<p>RFishBC calculates radii as the cumulative sum of the annular increments rather than the distance from the structure center to the annuli. These radii or increments can be extracted as described in the <a href="collectRadiiData.html">Collecting Radial Measurements</a> vignette.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/combineData.html">combineData</a></span>(<span class="st">"DWS_Oto_89765_DHO.rds"</span>,<span class="dt">formatOut=</span><span class="st">"wide"</span>)
<span class="co">#&gt;      id reading agecap   radcap      rad1      rad2      rad3      rad4</span>
<span class="co">#&gt; 1 89765     DHO     17 1.566603 0.1662264 0.4384333 0.6922088 0.8132031</span>
<span class="co">#&gt;        rad5     rad6     rad7     rad8     rad9    rad10    rad11    rad12</span>
<span class="co">#&gt; 1 0.9268816 1.048548 1.132069 1.183711 1.267861 1.344196 1.381198 1.416685</span>
<span class="co">#&gt;      rad13    rad14    rad15   rad16    rad17</span>
<span class="co">#&gt; 1 1.451155 1.479214 1.517481 1.54954 1.566603</span>
<span class="kw"><a href="../reference/combineData.html">combineData</a></span>(<span class="st">"DWS_Oto_89765_DHO.rds"</span>,<span class="dt">formatOut=</span><span class="st">"wide"</span>,<span class="dt">typeOut=</span><span class="st">"inc"</span>)
<span class="co">#&gt;      id reading agecap   radcap      inc1      inc2      inc3      inc4</span>
<span class="co">#&gt; 1 89765     DHO     17 1.566603 0.1662264 0.2722069 0.2537755 0.1209943</span>
<span class="co">#&gt;        inc5      inc6       inc7      inc8       inc9      inc10</span>
<span class="co">#&gt; 1 0.1136785 0.1216662 0.08352094 0.0516422 0.08415023 0.07633529</span>
<span class="co">#&gt;        inc11      inc12     inc13      inc14      inc15      inc16</span>
<span class="co">#&gt; 1 0.03700193 0.03548637 0.0344699 0.02805947 0.03826742 0.03205867</span>
<span class="co">#&gt;        inc17</span>
<span class="co">#&gt; 1 0.01706312</span></code></pre></div>
<p> </p>
<p> </p>
</div>
<div id="extract-increments-rather-than-radii" class="section level1">
<h1 class="hasAnchor">
<a href="#extract-increments-rather-than-radii" class="anchor"></a>Extract Increments Rather than Radii</h1>
<p>As noted in the <a href="BCIntro.html">Introduction to Back-calculation</a> vignette, radial measurements are the distance from the structure center to the annulus.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> In some instances, the user may desire incremental rather than radial measurements. Incremental measurements are the distances between successive annuli, with the first increment being the distance from the structure center to the first annulus. Increments may be extracted from the data stored in the R data file with <code><a href="../reference/combineData.html">combineData()</a></code> using <code>typeOut="inc"</code>. For example, the radial and incremental measurements for the “DHO” reading of “Scale_1.jpg” in wide format are shown below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/combineData.html">combineData</a></span>(<span class="st">"Scale_1_DHO.rds"</span>,<span class="dt">formatOut=</span><span class="st">"wide"</span>)
<span class="co">#&gt;   id reading agecap    radcap      rad1      rad2      rad3      rad4</span>
<span class="co">#&gt; 1  1     DHO      5 0.5146011 0.2127403 0.2791615 0.3418421 0.4622381</span>
<span class="co">#&gt;        rad5</span>
<span class="co">#&gt; 1 0.4988664</span>
<span class="kw"><a href="../reference/combineData.html">combineData</a></span>(<span class="st">"Scale_1_DHO.rds"</span>,<span class="dt">typeOut=</span><span class="st">"inc"</span>,<span class="dt">formatOut=</span><span class="st">"wide"</span>)
<span class="co">#&gt;   id reading agecap    radcap      inc1       inc2       inc3      inc4</span>
<span class="co">#&gt; 1  1     DHO      5 0.5146011 0.2127403 0.06642116 0.06268054 0.1203961</span>
<span class="co">#&gt;         inc5</span>
<span class="co">#&gt; 1 0.03662824</span></code></pre></div>
<p>Of course, increments from several sets of measurements may also be extracted (note that the list of R data files in <code>fns</code> was created <a href="l#collect-just-age-data">above</a>)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/combineData.html">combineData</a></span>(fns,<span class="dt">formatOut=</span><span class="st">"wide"</span>)
<span class="co">#&gt;   id reading agecap    radcap      rad1      rad2      rad3      rad4</span>
<span class="co">#&gt; 1  1     DHO      5 0.5146011 0.2127403 0.2791615 0.3418421 0.4622381</span>
<span class="co">#&gt; 2  2     DHO      4 0.3979388 0.1414644 0.2277237 0.2990282 0.3519334</span>
<span class="co">#&gt; 3  3     DHO      1 0.5174685 0.5174685        NA        NA        NA</span>
<span class="co">#&gt;        rad5</span>
<span class="co">#&gt; 1 0.4988664</span>
<span class="co">#&gt; 2        NA</span>
<span class="co">#&gt; 3        NA</span>
<span class="kw"><a href="../reference/combineData.html">combineData</a></span>(fns,<span class="dt">typeOut=</span><span class="st">"inc"</span>,<span class="dt">formatOut=</span><span class="st">"wide"</span>)
<span class="co">#&gt;   id reading agecap    radcap      inc1       inc2       inc3       inc4</span>
<span class="co">#&gt; 1  1     DHO      5 0.5146011 0.2127403 0.06642116 0.06268054 0.12039607</span>
<span class="co">#&gt; 2  2     DHO      4 0.3979388 0.1414644 0.08625928 0.07130452 0.05290518</span>
<span class="co">#&gt; 3  3     DHO      1 0.5174685 0.5174685         NA         NA         NA</span>
<span class="co">#&gt;         inc5</span>
<span class="co">#&gt; 1 0.03662824</span>
<span class="co">#&gt; 2         NA</span>
<span class="co">#&gt; 3         NA</span></code></pre></div>
<p> </p>
<p> </p>
</div>
<div id="footnotes" class="section level1">
<h1 class="hasAnchor">
<a href="#footnotes" class="anchor"></a>Footnotes</h1>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Note that with <a href="#curved-growth-trajectories">curved growth trajectories</a>, radial measurements are the cumulative sum of the distances between annuli with the first distance being from the structure center to the first annulus.<a href="#fnref1">↩</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#collect-just-age-data">Collect Just Age Data</a></li>
      <li><a href="#curved-growth-trajectories">Curved Growth Trajectories</a></li>
      <li><a href="#extract-increments-rather-than-radii">Extract Increments Rather than Radii</a></li>
      <li><a href="#footnotes">Footnotes</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Derek Ogle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
